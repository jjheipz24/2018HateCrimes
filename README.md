For my final project, I decided to pull data from the FBI's official database on the topic of hate crimes in America. In order to cut down on the amount of data I was using, I decided to only pull from the most recent records--which were from 2018. The data listed the specific biases that motivated each hate crime, and from that I was able to group each bias into large "parent" categories consisting of race, religion, disability, gender identity, and sexual orientation. The parent categories I created also aligned with the FBI's definition of a hate crime.

When I noticed this grouping/classification I was able to do, the first type of visualization that I thought of was a sunburst--specifically a zoomable sunburst that I saw listed <a href="https://observablehq.com/@d3/zoomable-sunburst">here</a>. I wanted to show a breakdown of hate crimes in each state that could be explored to see which groups seemed to be the most targeted in that particular state and how that compared to other states. Because this was my focus, I chose to exclude information in the final visualization relating to the number of victims, details about the offense, and offender race. I noticed that some states, like California, had a lot of records in each month, so I chose to use a bar graph for each state to show a month-by-month breakdown of how many offenses were committed. This also allows for comparisons to be made about the number of crimes committed in each month to see any patterns.

In regards to the marks and channels I used, I utilized lines and areas as my marks. The lines can be seen as bars in the graphs looking at the total number of cases reported in each month for each state (the months listed on the x-axis with the # of cases on the y-axis). The bar charts also use vertical length as its channel to indicate the number of cases. The sunburst uses areas to show how much each type of hate crime makes up the total reported cases, and those get broken down and use area to show how much the sub-categories make up the larger ones. Color hues are used as identity channels to identify which areas are associated with which hate crime categories. I used a legend on the side of the sunburst to state the associations as well. Color saturation is used to show the groupings and "level" placements on the hierarchy of data. By this I mean that each category is a specific color, and each category within that category is the same color but with decreasing opacity levels to show togetherness and how specific the information is.

I wanted to draw the connection between the bar graphs and the sunbursts, so I made it so the user is able to click on one of the bars on the bar graph, which then fades out the bar graph and then fades in the sunburst for the appropriate month. With the sunburst, the user is able to hover over each section and the name of the section and the percentage of the total that particular section takes up. Upon clicking one of the section, it breaks it down even further. The user is able to do this until they reach the date listed for the specific case. Click the center allows the user to zoom back out until they reach the starting sunburst view. There is also a back button to go back to the bar chart to select a different month, and the dropdown menu allows the user to change the state being investigated.

In order to get the data to do what I needed for the bar graph, I needed to filter the data for only the data regarding the selected state from the dropdown. I had to use d3.rollup in order to then get a map of the months with the amount of records for that particular month. I learned that not every month had a record, so the bar chart was doing something wonky when I switched to a state that DID have records for those months. To fix this, I needed to manually add the months with values of 0. Lastly, I had to convert the map into an array and then sort the array by the months to put them in order.

For the sunburst, I had to pass in the original data for the specific month for that state to turn it into hierarchial data. The text bothered me at first, so I spent a lot of time figuring out how to remove all of the labels EXCEPT for the main groups (race, religion, disability, gender, and sexuality). It wasn't until after that that I realized this wasn't a good visualization because you didn't know what you were looking at unless you hovered over (and as we talked about, you want the viewer to be able to understand your data with as much pre-attentive processing as possible). I put the text back and then also figured out how to get the text to display in the center of the sunburst for better readability. A difficult challenge I faced was adjusting the font size based on how long the text was, but I managed to do it with .getComputedTextLength() and a switch statement (although sometimes the font size doesn't change when its supposed to, but it's just a glitch that happens occasionally). One issue I ran into with the sunburst was that other rings were still recognizing mouseover when they weren't in focus, so I had to create a clip-path to prevent this from happening. To switch between the bar chart and the sunburst, I used fade in and fade out functions.

Overall, I am SUPER happy with how this turned out. I was able to get everything I envisioned completed without too many bumps. I honestly had a lot of fun building this visualiation, and it's one of the few projects I've created that I'm genuinely proud of. This class was great and I'm definitely sad that it's over now. Thanks for everything, Travis!

P.S. Sorry if this write-up is long